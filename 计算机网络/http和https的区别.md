## HTTP
超文本传输协议（Hypertext Transfer Protocol，HTTP）是一个简单的请求-响应协议，它通常运行在TCP之上。它指定了客户端可能发送给服务器什么样的消息以及得到什么样的响应。请求和响应消息的头以ASCII形式给出；而 [9] 消息内容则具有一个类似MIME的格式。这个简单模型是早期Web成功的有功之臣，因为它使开发和部署非常地直截了当。

## HTTP 的特点和缺点

## 特点：无连接、无状态、灵活、简单快速
无连接：每一次请求都要连接一次，请求结束就会断掉，不会保持连接
无状态：每一次请求都是独立的，请求结束不会记录连接的任何信息(提起裤子就不认人的意思)，减少了网络开销，这是优点也是缺点
灵活：通过http协议中头部的Content-Type标记，可以传输任意数据类型的数据对象(文本、图片、视频等等)，非常灵活
简单快速：发送请求访问某个资源时，只需传送请求方法和URL就可以了，使用简单，正由于http协议简单，使得http服务器的程序规模小，因而通信速度很快

## 缺点：无状态、不安全、明文传输、队头阻塞
无状态：请求不会记录任何连接信息，没有记忆，就无法区分多个请求发起者身份是不是同一个客户端的，意味着如果后续处理需要前面的信息，则它必须重传，这样可能导致每次连接传送的数据量增大
不安全：明文传输可能被窃听不安全，缺少身份认证也可能遭遇伪装，还有缺少报文完整性验证可能遭到篡改
明文传输：报文(header部分)使用的是明文，直接将信息暴露给了外界，WIFI陷阱就是复用明文传输的特点，诱导你连上热点，然后疯狂抓取你的流量，从而拿到你的敏感信息
队头阻塞：开启长连接时，只建立一个TCP连接，同一时刻只能处理一个请求，那么当请求耗时过长时，其他请求就只能阻塞状态

## 如何解决 HTTP 的队头阻塞问题
http1.0协议采用的是请求-应答模式，报文必须是一发一收，就形成了一个先进先出的串行队列，没有轻重缓急的优先级，只有入队的先后顺序，排在最前面的请求最先处理，就导致如果队首的请求耗时过长，后面的请求就只能处于阻塞状态，这就是著名的队头阻塞问题。
解决如下：
1. 并发连接
因为一个域名允许分配多个长连接，就相当于增加了任务队列，不至于一个队列里的任务阻塞了其他全部任务。以前在RFC2616中规定过客户端最多只能并发2个连接，但是现实是很多浏览器不按套路出牌，就是遵守这个标准，所以在RFC7230把这个规定取消掉了，现在的浏览器标准中一个域名并发连接可以有6~8个，记住是6~8个，不是6个(Chrome6个/Firefox8个)
2. 域名分片
一个域名最多可以并发6~8个，
比如a.baidu.com，b.baidu.com，c.baidu.com，多准备几个二级域名，当我们访问baidu.com时，可以让不同的资源从不同的二域名中获取，而它们都指向同一台服务器，这样能够并发更多的长连接了
而在HTTP2.0下，可以一瞬间加载出来很多资源，因为支持多路复用，可以在一个TCP连接中发送多个请求

## HTTP 报文组成部分
http报文由请求报文和响应报文组成

请求报文：由请求行、请求头、空行、请求体四部分组成
响应报文：由状态行、响应头、空行、响应体四部分组成

请求行：包含http方法，请求地址，http协议以及版本
请求头/响应头：就是一些key:value来告诉服务端我要哪些内容，要注意什么类型等，请求头/响应头每一个字段详解
空行：用来区分首部与实体，因为请求头都是key:value的格式，当解析遇到空行时，服务端就知道下一个不再是请求头部分，就该当作请求体来解析了
请求体：请求的参数
状态行：包含http协议及版本、数字状态码、状态码英文名称
响应体：服务端返回的数据

## HTTP 请求方法

方法    描述
GET     获取资源
POST    传输资源，通常会造成服务器资源的修改
HEAD    获得报文首部
PUT     更新资源
PATCH   对PUT的补充，对已知资源部分更新 
DELETE   删除资源
OPTIONS 列出请求资源支持的请求方法，用来跨域请求
TRACE   追踪请求/响应路径，用于测试或诊断
CONNECT 将连接改为管道方式用于代理服务器

## 常见 HTTP 状态码
1xx: 指示信息——表示请求已接收，继续处理
2xx: 成功——表示请求已被成功接收
3xx: 重定向——表示要完成请求必须进行进一步操作
4xx: 客户端错误——表示请求有语法错误或请求无法实现
5xx: 服务端错误——表示服务器未能实现合法的请求

状态码    描述
200       请求成功
206       已完成指定范围的请求(带Range头的GET请求),场景如video,audio播放文件较大,文件分片时
301       永久重定向
302       临时重定向
304       请求资源未修改，可以使用缓存的资源，不用在服务器取
400       请求有语法错误
401       没有权限访问
403       服务器拒绝执行请求，场景如不允许直接访问，只能通过服务器访问时
404       请求资源不存在
500       服务器内部错误，无法完成请求
503       请求未完成，因服务器过载、宕机或维护等

## HTTPS
HTTPS 是超文本传输安全协议，即HTTP + SSL/TLS。说白了，就是一个加强版的HTTP

## HTTPS优缺点
优点
内容加密，中间无法查看原始内容
身份认证，保证用户访问正确。如访问百度，即使DNS被劫持到第三方站点，也会提醒用户没有访问百度服务，可能被劫持
数据完整性，防止内容被第三方冒充或篡改
虽然不是绝对安全，但是现行架构下最安全的解决文案了，大大增加了中间人的攻击成本

缺点
要钱，功能越强大的证书费用越贵
证书需要绑定IP，不能在同一个IP上绑定多个域名
https双方加解密，耗费更多服务器资源
https握手更耗时，降低一定用户访问速度(优化好就不是缺点了)

## HTTP 和 HTTPS 的区别
HTTP是明文传输，不安全的，HTTPS是使用 SSL/TLS 加密传输，安全的多
HTTP标准端口是80，HTTPS标准端口是443
HTTP不用认证证书免费，HTTPS需要认证证书要钱
HTTP在OSI网络模型中是在应用层，而HTTPS的TLS是在传输层
HTTP是无状态的，HTTPS是有状态的
HTTP 可以使用浏览器缓存来提高访问速度，而 HTTPS 在加密传输数据时会禁止浏览器缓存，以保证数据的安全性